<!--
  Copyright (c) 2007 Cisco Systems, Inc.
  All rights reserved. This program and the accompanying materials
  are made available under the terms of the Eclipse Public License v1.0
  which accompanies this distribution, and is available at
    http://www.eclipse.org/legal/epl-v10.html

   Contributors:
      E. Dillon (Cisco Systems, Inc.) - reformat for Code Open-Sourcing
-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
	<link rel="STYLESHEET" href="book.css" charset="ISO-8859-1" type="text/css">
	<script language="JavaScript" src="PLUGINS_ROOT/org.eclipse.help/livehelp.js"></script>
<title>Using an Expander</title>
</head >
<body bgcolor="#FFFFFF" alink="#FF9999">
<table width="100%"  border="0" cellspacing="0" cellpadding="0">
  <tr>
  </tr>
</table>
<h1>Using an Expander</h1>

<p>An <b>Expander</b> is a utility included in the <a href="velocityContextDetails.html">Default Velocity context</a> that you use to <i>explode</i> references. Uses for an <b>Expander</b> are as follows:</p>

<ul>
   <li><b>Specifying Output files</b>: In many situations, your plug-in needs model attributes to know where to place your output file based on the current <b>Artifact</b>. The default <b>Expander</b> facilitates this behaviour.</li>
   <li><b>Abbreviated syntax</b>: Within a template, you have access to plug-in <b>Global Properties</b>, <b>Model Attributes</b>, and <b>Project Properties</b>.</li>
</ul>

<h2>Expander Variable Syntax</h2>
<blockquote><ul>
   <li><b><i>${project.Version}</i> and <i>${project.Name}</i></b>: This variable will replace your <b>Version</b> and <b>Name</b> properties of your current project.</li>
   <li><b><i>${artifact.Name}, ${artifact.Package} and ${artifact.Path}</i></i></b>: This variable displays a <i>name</i>, <i>package</i>, and a <i>path-like</i> String for your package (eg <i>com/mycompany/myPackage</i>) of the current <b>Artifact</b>. This variable is only useful for <b>Artifact</b> based rules.</li>
   <li><b><i>${ppProp.propertyName}</i></b>: This variable displays the <i>value</i> of the <b>Global Property</b> named <i>propertyName</i> in your plug-in.</li>
   <li><b><i>${model.attributeName}</i></b>: This variable displays the <i>value</i> of the attribute named <i>attributeName</i> in your model. <b>Note:</b> The <b>Model</b> should be replaced with the name of the model set in the rule specification.</li>
</ul></blockquote>

<h2>Expander Usage</h2>
<blockquote><p>When defining a rule, use the direct syntax. The whole filename string is automatically passed to the default <b>Expander</b>. For example, for an output file the defintion might look like the following:
<ul>
   <li><i>${artifact.Path}/${artifact.Name}.java</i></li>
</ul>
<p>Within your template, use <i>$exp.expandVar(expanderVariable)</i>, where <i>expanderVariable</i> complies with the syntax above. For example, <i>$exp.expandVar("${ppProp.xmlDirectory}")</i>.</p></blockquote>
&#169; copyright 2005, 2006, 2007 Cisco Systems, Inc. - All rights reserved </p>
</body>
</html>