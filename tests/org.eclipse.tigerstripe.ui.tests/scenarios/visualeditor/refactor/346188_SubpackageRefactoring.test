--- Q7 testcase ---
Q7-vendor: www.xored.com/q7
Format-Version: 1.0
Element-Name: 346188_SubpackageRefactoring
Tags: TS_Project/VisualEditor/Refactor, I36
External-Reference: http://docs.xored.com/display/TS/346188_SubpackageRefactoring
Element-Version: 3.0
Contexts: _SLD80DTSEeC7of9QSgx3oQ
Save-Time: 1/18/12 1:28 PM
Id: _4J-DAZsaEeC7TYfxIuOJfQ

------=_.description-216f885c-d591-38ce-8ea2-e4f8cb4d6ffa
Entry-Name: .description
Content-Type: text/plain

Package should not be deleted after subpackage refactoring

Precondition:
247244_DragAssociationsOnDiagramContextWorkspace:
1. Create Tigerstripe project with Entity artifact and class diagram in
com.mycompany package
2. Add Entity artifact to the class diagram and save changes

Steps:
1. Create package com.mycompany.package1
2. Move Entity (E2) to com.mycompany.package1 and save diagram changes
3. Rename com.mycompany.package1 to package1
4. Check that package com.mycompany.package1 is renamed to package1, 
5. Check com.mycompany is exists with class diagram
------=_.description-216f885c-d591-38ce-8ea2-e4f8cb4d6ffa--
------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac
Entry-Name: .content
Content-Type: text/ecl

with [get-view "Tigerstripe Explorer" | get-tree] {
    select "Test/src/com.mycompany/default" | double-click -nowait
    select "Test/src/com.mycompany" | get-menu "New/Package" | click
}
with [get-window "Create a new Package"] {
    get-editbox -after [get-label "Name:"] | set-text package1
    get-button Finish | click
}
with [get-view "Tigerstripe Explorer" | get-tree] {
    select "Test/src/com.mycompany/E2"
    get-item "Test/src/com.mycompany/E2" | drag-start 6 7
    get-item "Test/src/com.mycompany/E2" | drag-enter 16 12 -detail 2 -operation 7
    get-item "Test/src/com.mycompany/E2" | drag-over 21 17 -detail 2 -operation 7
    get-item "Test/src/com.mycompany/default" | drag-over 27 17 -operation 7
    get-item "Test/src/com.mycompany.package1" | drag-over 47 11 -detail 2 -operation 7
    get-item "Test/src/com.mycompany/E2" | drag-exit
    get-item "Test/src/com.mycompany.package1" | drag-accept 47 11 -detail 2 -operation 7
    get-item Test | drag-set-data "-41"
    get-item "Test/src/com.mycompany.package1" | drop 47 11 -detail 2 -operation 7
    get-item Test | drag-end "-41"
}
get-window Move | get-button Finish | click
get-editor "default.wvd" | click
get-button "Save \(.*\)" | click
get-view "Tigerstripe Explorer" | get-tree | select "Test/src/com.mycompany.package1" 
    | get-menu "Refactor Model/Rename..." | click
with [get-window "Refactor Model Artifact"] {
    get-editbox -after [get-label "New name:"] | set-text package1
    get-button "Next >" | click
    get-button Finish | click
}
get-view "Tigerstripe Explorer" | get-tree | get-item "Test/src/package1" | get-property caption | equals package1 
    | verify-true
with [get-editor "default.wvd" | get-diagram | get-edit-part -className MapEditPart] {
    mouse-move 81 98 button1 -height 356 -width 596
    mouse-press 81 98 button1 -height 356 -width 596
    mouse-release 81 98 button1 524288 -height 356 -width 596
}
get-button "Save \(.*\)" | click
get-view "Tigerstripe Explorer" | get-tree | get-item "Test/src/com.mycompany" | get-property caption 
    | equals "com.mycompany" | verify-true
get-view "Tigerstripe Explorer" | get-tree | get-item "Test/src/com.mycompany/default" | get-property caption 
    | equals default | verify-true
------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac--
------=_.q7.content-3d2e0690-ce48-3609-83e0-c704d49f1eaf
Content-Type: q7/binary
Entry-Name: .q7.content

UEsDBBQACAAIAAAAIQAAAAAAAAAAAAAAAAAIAAAALmNvbnRlbnR9kVFPwjAUhd9N/A9Nn6UFR2QuDGKE
B4hGsYtRX5badbO6taPtZPx77wzMF8Nbc+/p13NOp/O2KtG3tE4ZHeMRGWIktTCZ0kWMG58PQjyfnZ9N
halIa6zMyHZCnJCaW2UidjigtlJRT7nsKMDVLoJ5jD+8ryNKd7sdMVVBjC3oy/3qKPmX3F+CLf3d0u2E
HrdEChhhpHklYxyMr0ZhmLLmvebiixfySeZceGMhA/7LFnSuVBbjdLweLG7eHF/K20nymrer5mGdbzDy
vHAxTlj6aM2nFJ4+K9fwcpkpgNEj9QKtgisQ72t4W4oSCmu9tJqXoJAW2pO9+8wIdwjXBcmUq0u+pwmj
J01D4QhB5doD2s1SdrcIh4uEdYZNfr1hRRuYzZT2CvggevqHQPIDUEsHCIMPG8AtAQAA7AEAAFBLAQIU
ABQACAAIAAAAIQCDDxvALQEAAOwBAAAIAAAAAAAAAAAAAAAAAAAAAAAuY29udGVudFBLBQYAAAAAAQAB
ADYAAABjAQAAAAA=
------=_.q7.content-3d2e0690-ce48-3609-83e0-c704d49f1eaf--
------=_.content.raw-c2dfba28-ebef-3afe-bd39-76376d333cc9
Content-Type: q7/binary
Entry-Name: .content.raw

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
AA==
------=_.content.raw-c2dfba28-ebef-3afe-bd39-76376d333cc9--
