--- Q7 testcase ---
Q7-vendor: www.xored.com/q7
Format-Version: 1.0
Element-Name: 337842_CircularReferences
Tags: TS_Project/Edit/Descriptor, I32
External-Reference: http://docs.xored.com/display/TS/337842_CircularReferences
Element-Version: 3.0
Contexts: _h-k60POVEd-s8v7FVtLgHw
Save-Time: 1/18/12 1:28 PM
Id: _6p3CIFt6EeCvoLbaUs_Cpg

------=_.description-216f885c-d591-38ce-8ea2-e4f8cb4d6ffa
Entry-Name: .description
Content-Type: text/plain

Detect TS projects with circular references

Precondition:
1 Create two Tigerstripe projects
2 Create reference from project 1 to project 2
(DependantProjectsWithPackagesContextGroup)

Steps:
   1. Create reference from project 1 to project 2
   2. Check error log to detect circular references and report errors.
   3. Rename an entity in any project into workspace (StackOverflow error is not displayed)



------=_.description-216f885c-d591-38ce-8ea2-e4f8cb4d6ffa--
------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac
Entry-Name: .content
Content-Type: text/ecl

get-view "Tigerstripe Explorer" | get-tree | select "Two/tigerstripe.xml" | double-click -nowait
with [get-editor "Two/tigerstripe.xml"] {
    get-tab-folder | get-tab-item Dependencies | click
    get-section Dependencies | get-button Add | click
}
with [get-window "Select Tigerstripe Project"] {
    get-table | select One
    get-button OK | click
}
get-button "Save \(.*\)" | click
get-view Problems | get-tree | get-item "Errors \\(5 items\\)" | get-property caption | equals "Errors (5 items)" 
    | verify-true
get-view "Tigerstripe Explorer" | get-tree | select "Two/src/com.mycompany/Ent2" | get-menu "Refactor Model/Rename..." 
    | click
with [get-window "Refactor Model Artifact"] {
    with [get-editbox -after [get-label "New name:"]] {
        key-type "M1+a"
        set-text Ent_new
    }
    get-button "Next >" | click
    get-button Finish | click
}
get-view Problems | get-tree | get-item "Errors \\(5 items\\)" | get-property caption | equals "Errors (5 items)" 
    | verify-true
------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac--
------=_.q7.content-3d2e0690-ce48-3609-83e0-c704d49f1eaf
Content-Type: q7/binary
Entry-Name: .q7.content

UEsDBBQACAAIAAAAIQAAAAAAAAAAAAAAAAAIAAAALmNvbnRlbnR9UdFOwjAUfTfxH5o+S4ubYWRh8DBH
JMFIBIlvS20vo7q1oy1s/D3FwHxR35p7Ts8959zRpK1KdABjpVYJvid9jEBxLaQqErx3m94QT8a3NyOu
K9JqA4LsImI5KGakjpeXB2orGXcqwVnF6yob+3mCt87VMaVN0xBdFUSbgr4/z66UX5W7Tx6l3yjdRfSK
EuB+hJFiFSQ4DKPhQ5Cn0vB9ycwrbMD4DGDxT7DwbEmKBOeDOkxnUzfIID3o+Qd7s3laFxg5VtgEr5b5
wuhP4I5mQjr6CJYbWTtt7tAsDDztWPuVwEvfU+vAKFZ2CzvTQnN7yXT2L6StS3akqyX926svGSFfs3Je
147zbe9r0F+8rDPRs8NDNF27efHUjGjH8Eeh/1/FU05QSwcIptw8dSYBAADgAQAAUEsBAhQAFAAIAAgA
AAAhAKbcPHUmAQAA4AEAAAgAAAAAAAAAAAAAAAAAAAAAAC5jb250ZW50UEsFBgAAAAABAAEANgAAAFwB
AAAAAA==
------=_.q7.content-3d2e0690-ce48-3609-83e0-c704d49f1eaf--
------=_.content.raw-c2dfba28-ebef-3afe-bd39-76376d333cc9
Content-Type: q7/binary
Entry-Name: .content.raw

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
------=_.content.raw-c2dfba28-ebef-3afe-bd39-76376d333cc9--
