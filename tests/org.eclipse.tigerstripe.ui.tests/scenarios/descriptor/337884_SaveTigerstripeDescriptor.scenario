--- Q7 testcase ---
Q7-vendor: www.xored.com/q7
Format-Version: 1.0
Element-Name: 337884_SaveTigerstripeDescriptor
Tags: TS_Project/Edit/Descriptor, I31
External-Reference: 
Element-Version: 3.0
Contexts: _E-NZMfhGEd-iKuOiJgVXVQ
Save-Time: 1/18/12 1:28 PM
Id: _rEDgMUDGEeCa8cJcfiVdxQ

------=_.description-216f885c-d591-38ce-8ea2-e4f8cb4d6ffa
Entry-Name: .description
Content-Type: text/plain

Save Tigerstripe descriptor with added Tigerstripe module without NPE error

Precondition:
1. Create 2 Tigerstripe projects

Steps:
   1. Export Project1 as Tigerstripe module.
   2. Move exported module to Project 2.
   3. Add dependency to Tigerstripe module.
   4. Do not save changes. Check that error log is empty.
   5. Save changes. Check that error log is empty.
   6. Remove dependency to Tigerstripe module. Add reference to Tigerstripe project.
   7. Save changes. Add dependency to Tigerstripe module.
   8. Save changes. Check that error log is empty


------=_.description-216f885c-d591-38ce-8ea2-e4f8cb4d6ffa--
------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac
Entry-Name: .content
Content-Type: text/ecl

get-view "Tigerstripe Explorer" | get-tree | select Project1 | get-menu "Export..." | click
with [get-window Export] {
    get-tree | select "Tigerstripe/Tigerstripe Module"
    get-button "Next >" | click
}
get-window "Export to Tigerstripe module" | get-button Finish | click
with [get-view "Tigerstripe Explorer" | get-tree] {
    select "Project1/Project1_0.0.0.jar"
    get-item "Project1/Project1_0.0.0.jar" | drag-start 49 9
    get-item "Project1/tigerstripe.xml" | drag-enter 35 1 -detail 2 -operation 7
    get-item "Project1/tigerstripe.xml" | drag-over 22 17 -detail 1 -operation 7
    get-item Project2 | drag-over 36 13 -detail 2 -operation 7
    get-item "Project1/tigerstripe.xml" | drag-exit
    get-item Project2 | drag-accept 36 13 -detail 2 -operation 7
    drag-set-data
    get-item Project2 | drop 36 13 -detail 2 -operation 7
    drag-end
    select "Project2/tigerstripe.xml" | double-click -nowait
}
get-menu "Window/Show View/Error Log" | click
get-view "Error Log" | get-button "Clear Log Viewer" | click
with [get-editor "Project2/tigerstripe.xml"] {
    get-tab-folder | get-tab-item Dependencies | click
    get-section Dependencies | get-button Add | click
}
with [get-window "Select Tigerstripe Project"] {
    get-table | select "Project1_0.0.0.jar"
    get-button OK | click
}
get-view "Error Log" | get-tree | get-property itemCount | equals 0 | verify-true
get-button "Save \(.*\)" | click
get-view "Error Log" | get-tree | get-property itemCount | equals 0 | verify-true
with [get-editor "Project2/tigerstripe.xml" | get-section Dependencies] {
    get-table | select "Project1_0.0.0.jar"
    get-button Remove | click
}
get-window "Remove Reference/Dependency" | get-button Yes | click
get-button "Save \(.*\)" | click
get-editor "Project2/tigerstripe.xml" | get-section Dependencies | get-button Add | click
with [get-window "Select Tigerstripe Project"] {
    get-table | select Project1
    get-button OK | click
}
get-button "Save \(.*\)" | click
get-editor "Project2/tigerstripe.xml" | get-section Dependencies | get-button Add | click
with [get-window "Select Tigerstripe Project"] {
    get-table | select "Project1_0.0.0.jar"
    get-button OK | click
}
get-button "Save \(.*\)" | click
get-view "Error Log" | get-tree | get-property itemCount | equals 0 | verify-true
------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac--
------=_.q7.content-3d2e0690-ce48-3609-83e0-c704d49f1eaf
Content-Type: q7/binary
Entry-Name: .q7.content

UEsDBBQACAAIAAAAIQAAAAAAAAAAAAAAAAAIAAAALmNvbnRlbnR9kFFPgzAUhd9N/A9Nn6V1YgIhsD0I
WTaDujDJ4gsh5dLVjHZru4H/3s449mJ86s09p9+998SzoduhE2gjlEzwhNxjBJKpRkie4KNtvRDPprc3
MVMdGZSGhhwCYhjIWgsVFb8FGjoRjZSHM8VxpYlcP8Fba/cRpX3fE9VxojSnm3xxsfxJHj85lf6o9BDQ
i0qAuRZGsu4gwb4fhOFjVdQnWAvulrBa7CEFw9xrlcbX+/zzZqJJcKWzlOfv6TyDpzpkS9aKshlWGNma
mwSvi+pNq09glmaNsPQKu0MLf+JsX3s3GdgOu3AQcvFIC4M10yrzXj7ydjvPGk88H1/FkpebchXT0eHC
pP+n6SzfUEsHCHz1GmMMAQAAmAEAAFBLAQIUABQACAAIAAAAIQB89RpjDAEAAJgBAAAIAAAAAAAAAAAA
AAAAAAAAAAAuY29udGVudFBLBQYAAAAAAQABADYAAABCAQAAAAA=
------=_.q7.content-3d2e0690-ce48-3609-83e0-c704d49f1eaf--
------=_.content.raw-c2dfba28-ebef-3afe-bd39-76376d333cc9
Content-Type: q7/binary
Entry-Name: .content.raw

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
ZW50UEsFBgAAAAABAAEANgAAAEkLAAAAAA==
------=_.content.raw-c2dfba28-ebef-3afe-bd39-76376d333cc9--
