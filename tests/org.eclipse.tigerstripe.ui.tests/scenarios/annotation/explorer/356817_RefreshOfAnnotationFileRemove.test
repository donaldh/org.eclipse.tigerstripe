--- Q7 testcase ---
Q7-vendor: www.xored.com/q7
Format-Version: 1.0
Element-Name: 356817_RefreshOfAnnotationFileRemove
Tags: Annotation
External-Reference: http://docs.xored.com/display/TS/356817_RefreshOfAnnotationFileRemove
Element-Version: 3.0
Contexts: _9D6jAatgEd-v8JwXbnu_tQ,_RR91gMiqEeCVYvz9uSPZwA,_Kb5-0NnQEeCrRbabNEcanQ
Save-Time: 1/18/12 1:28 PM
Id: _hXlvwOAYEeCo36Hn5h9s0A

------=_.description-216f885c-d591-38ce-8ea2-e4f8cb4d6ffa
Entry-Name: .description
Content-Type: text/plain

Annotation manager have to refresh itself when user changes an annotation resource file manually (removes annotation)

Precondition
RemoveAnnotationsContextWorkspace 
AnnotationsContextPreferences

Steps
    Check 5 annotations for Entity1 in Tigerstripe Explorer and Annotation View
    Open annotation file in text editor and remove text annotation
    Save changes
    Refresh project
    Check 4 annotations for Entity1 in Tigerstripe Explorer and Annotation View

------=_.description-216f885c-d591-38ce-8ea2-e4f8cb4d6ffa--
------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac
Entry-Name: .content
Content-Type: text/ecl

get-view "Tigerstripe Explorer" | get-tree 
    | get-item "New Project/src/org.eclipse/<<CheckAnnotation,IntegerAnnotation,TextAnnotation,Color,Font>>Entity1" 
    | get-property caption | equals "<<CheckAnnotation,IntegerAnnotation,TextAnnotation,Color,Font>>Entity1" 
    | verify-true
get-view "Annotation Property View" | click -nowait
get-view "Tigerstripe Explorer" | get-tree 
    | select "New Project/src/org.eclipse/<<CheckAnnotation,IntegerAnnotation,TextAnnotation,Color,Font>>Entity1"
get-view "Annotation Property View" | get-table | get-property itemCount | equals 5 | verify-true
get-view "Tigerstripe Explorer" | get-tree | select "New Project/annotations/org.eclipse.tigerstripe.annotation.ann" 
    | select "New Project/annotations/org.eclipse.tigerstripe.annotation.ann" | get-menu "Open With/Text Editor" | click
with [get-editor "org.eclipse.tigerstripe.annotation.ann" | get-editbox] {
    set-text-selection -offset 50 -startLine 50 -endLine 48 -endOffset 0
    key-type DEL
    key-type BS
}
get-button "Save \(.*\)" | click
get-menu "File/Refresh" | click
get-menu "Project/Clean..." | click
get-window Clean | get-button OK | click
get-view "Tigerstripe Explorer" | get-tree 
    | get-item "New Project/src/org.eclipse/<<CheckAnnotation,IntegerAnnotation,Color,Font>>Entity1" 
    | get-property caption | equals "<<CheckAnnotation,IntegerAnnotation,Color,Font>>Entity1" 
    | verify-true
get-view "Tigerstripe Explorer" | get-tree 
    | select "New Project/src/org.eclipse/<<CheckAnnotation,IntegerAnnotation,Color,Font>>Entity1"
get-view "Annotation Property View" | get-table | get-property itemCount | equals 4 | verify-true
------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac--
------=_.q7.content-3d2e0690-ce48-3609-83e0-c704d49f1eaf
Content-Type: q7/binary
Entry-Name: .q7.content

UEsDBBQACAAIAAAAIQAAAAAAAAAAAAAAAAAIAAAALmNvbnRlbnSNkV1PwjAUhu9N/A9L71lBwscWBlkU
40cEGcaAN0vXla1ma6Et2/DXe2ZgRqPGu/acp+95z9vRpMozq2BKcyk81LHbyGKCypiLxEN7s2kN0WR8
fjaiMrcrqVhs7wa2pkwQxaW7PB6sKuduo3JRq4Cu0C7UPZQas3UxLsvSlnliS5Xg1cPtCflRuXkEXfzR
xbsBPnVtRqGELEFy5qFurz/sDMKAbRTT6XzjCyENMWDlmmcsYLksgG3cdWt3PPZQmK6yopz76ym7lN3+
jeiljm77yDIk0R76lIHKYQuDGM0gncowJUgG45iCqFhjNZZUHzepXcdcbzNywE9L/C+HkLJlQc7CwAg9
Dp2r/qtPTDKNW8XwrlxFYh+axQg3xDc+CJxO8sB3sM3zunhz9svHl9L/nb+Peq32TCyAV0FEotmUEvFV
v7789e2AvANQSwcIpczfrkoBAABBAgAAUEsBAhQAFAAIAAgAAAAhAKXM365KAQAAQQIAAAgAAAAAAAAA
AAAAAAAAAAAAAC5jb250ZW50UEsFBgAAAAABAAEANgAAAIABAAAAAA==
------=_.q7.content-3d2e0690-ce48-3609-83e0-c704d49f1eaf--
------=_.content.raw-c2dfba28-ebef-3afe-bd39-76376d333cc9
Content-Type: q7/binary
Entry-Name: .content.raw

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
Y29udGVudFBLBQYAAAAAAQABADYAAAARCwAAAAA=
------=_.content.raw-c2dfba28-ebef-3afe-bd39-76376d333cc9--
