--- Q7 testcase ---
Q7-vendor: www.xored.com/q7
Format-Version: 1.0
Element-Name: 356817_RefreshOfAnnotationFileAdd
Tags: Annotation
External-Reference: http://docs.xored.com/display/TS/356817_RefreshOfAnnotationFileAdd
Element-Version: 3.0
Contexts: _9D6jAatgEd-v8JwXbnu_tQ,_RR91gMiqEeCVYvz9uSPZwA,_Kb5-0NnQEeCrRbabNEcanQ
Save-Time: 1/18/12 1:28 PM
Id: _W6OxUOAeEeCo36Hn5h9s0A

------=_.description-216f885c-d591-38ce-8ea2-e4f8cb4d6ffa
Entry-Name: .description
Content-Type: text/plain

Annotation manager have to refresh itself when user changes an annotation resource file manually (add annotation)

Precondition
RemoveAnnotationsContextWorkspace 
AnnotationsContextPreferences

Steps
    Check 5 annotations for Entity1 in Tigerstripe Explorer and Annotation View
    Open annotation file in text editor and add another text annotation for Entity1
    Save changes
    Refresh project
    Check 6 annotations for Entity1 in Tigerstripe Explorer and Annotation View
------=_.description-216f885c-d591-38ce-8ea2-e4f8cb4d6ffa--
------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac
Entry-Name: .content
Content-Type: text/ecl

get-view "Tigerstripe Explorer" | get-tree 
    | get-item "New Project/src/org.eclipse/<<CheckAnnotation,IntegerAnnotation,TextAnnotation,Color,Font>>Entity1" 
    | get-property caption | equals "<<CheckAnnotation,IntegerAnnotation,TextAnnotation,Color,Font>>Entity1" 
    | verify-true
get-view "Annotation Property View" | click -nowait
get-view "Tigerstripe Explorer" | get-tree 
    | select "New Project/src/org.eclipse/<<CheckAnnotation,IntegerAnnotation,TextAnnotation,Color,Font>>Entity1"
get-view "Annotation Property View" | get-table | get-property itemCount | equals 5 | verify-true
get-view "Tigerstripe Explorer" | get-tree | select "New Project/annotations/org.eclipse.tigerstripe.annotation.ann" 
    | select "New Project/annotations/org.eclipse.tigerstripe.annotation.ann" | get-menu "Open With/Text Editor" | click
with [get-editor "org.eclipse.tigerstripe.annotation.ann" | get-editbox] {
    set-text-offset 0 51
    type-text "  <org.eclipse.tigerstripe.annotation:Annotation uri=\"tigerstripe:/New Project/org.eclipse.Entity1\" id=\"_sSum8NneEeCl2fllVTnolQ4\">    <content xsi:type=\"org.eclipse.tigerstripe.annotation.example:TextAnnotation\"/> </org.eclipse.tigerstripe.annotation:Annotation>"
}
get-button "Save \(.*\)" | click
get-editor "org.eclipse.tigerstripe.annotation.ann" | close
with [get-view "Tigerstripe Explorer"] {
    click -nowait
    get-tree | select "New Project/annotations/org.eclipse.tigerstripe.annotation.ann" | key-type F5
}
get-menu "File/Refresh" | click
get-menu "Project/Clean..." | click
get-window Clean | get-button OK | click
get-view "Tigerstripe Explorer" | get-tree 
    | get-item "New Project/src/org.eclipse/<<CheckAnnotation,IntegerAnnotation,TextAnnotation,TextAnnotation,Color,Font>>Entity1" 
    | get-property caption | equals "<<CheckAnnotation,IntegerAnnotation,TextAnnotation,TextAnnotation,Color,Font>>Entity1" 
    | verify-true
get-view "Tigerstripe Explorer" | get-tree 
    | select "New Project/src/org.eclipse/<<CheckAnnotation,IntegerAnnotation,TextAnnotation,TextAnnotation,Color,Font>>Entity1"
get-view "Annotation Property View" | get-table | get-property itemCount | equals 6 | verify-true
------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac--
------=_.q7.content-3d2e0690-ce48-3609-83e0-c704d49f1eaf
Content-Type: q7/binary
Entry-Name: .q7.content

UEsDBBQACAAIAAAAIQAAAAAAAAAAAAAAAAAIAAAALmNvbnRlbnSFkV1PwjAUhu9N/A9L71lBwmALgyyK
8SOCDD/Qm6Vby6jZWmgLG/56zwyMaPy4a895+5z3vO0PyzyztkxpLoWPWnYTWUwkknKR+mhjFo0eGg5O
T/qJzO1SKkbtddfWCRNEcenN9gerzLlXU84qCnCF9qDuo6UxKw/joihsmae2VCme310fJD+S60fQxZ9d
vO7iQ9dmCZSQJUjOfNTuOL1WNwrZQjG9nCwCIaQhBqxc8owFlKLjgu3KGqc+ip6dSfk4CdiIncu2cyU6
S1c3A2QZkmofHRlQ2a1gCksyiKY0TAmSwSymICdW+6Qy0fs1KsuU61VGdvhhhv+3B/laFiQsDPD1IHIv
nLeAmHREG9veTTGPxSYy0z6uFd/0Yei20ju+hlWeXrbv7mZ2/1oEv+tv406jORZT0KswJvF4lBDxlV9d
/vpwkHwAUEsHCIS/CmBIAQAAOwIAAFBLAQIUABQACAAIAAAAIQCEvwpgSAEAADsCAAAIAAAAAAAAAAAA
AAAAAAAAAAAuY29udGVudFBLBQYAAAAAAQABADYAAAB+AQAAAAA=
------=_.q7.content-3d2e0690-ce48-3609-83e0-c704d49f1eaf--
------=_.content.raw-c2dfba28-ebef-3afe-bd39-76376d333cc9
Content-Type: q7/binary
Entry-Name: .content.raw

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
AAABAAEANgAAAKgMAAAAAA==
------=_.content.raw-c2dfba28-ebef-3afe-bd39-76376d333cc9--
