--- Q7 testcase ---
Q7-vendor: www.xored.com/q7
Format-Version: 1.0
Element-Name: 359863_UpdateAttribute
Tags: Annotation/functionality/ComplexAnnotationAttributes
External-Reference: http://docs.xored.com/display/TS/359863_UpdateAttribute
Element-Version: 3.0
Contexts: _RR91gMiqEeCVYvz9uSPZwA,_7u2BYAqLEeG4YKJLWO2_8Q,_9D6jAatgEd-v8JwXbnu_tQ
Save-Time: 1/18/12 1:28 PM
Id: _XWWVoAqcEeG4YKJLWO2_8Q

------=_.description-216f885c-d591-38ce-8ea2-e4f8cb4d6ffa
Entry-Name: .description
Content-Type: text/plain

Update attributes and verify changes in "Select attribute" dialog 

Precondition
ReferencedAnnotationContextWorkspace

Steps
    Open annotation property view for Entity0
    For referenced annotation open "Select attribute" dialog and check available attribute items
    Close "Select attribute" dialog
    Add attribute for Entity0, remove attribute1 and update attribute2 name for Entity1
    For referenced annotation open "Select attribute" dialog and check updated available attribute items

------=_.description-216f885c-d591-38ce-8ea2-e4f8cb4d6ffa--
------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac
Entry-Name: .content
Content-Type: text/ecl

get-view "Tigerstripe Explorer" | get-tree | select "New Project/src/org.eclipse/<<ReferencesExample>>Entity0"
get-view "Annotation Property View" | click -nowait
get-view "Tigerstripe Explorer" | get-tree | select "New Project/src/org.eclipse/<<ReferencesExample>>Entity0"
with [get-view "Annotation Property View" | get-tree] {
    get-cell 2 1 | click -nowait
    select stringRefToAttribute | get-item -index 0 | activate-cell-edit
    get-button "..." | click
}
get-window "Select Attribute" | get-tree | get-item "org.eclipse.Entity0" | get-property childCount | equals 1 
    | verify-true
get-window "Select Attribute" | get-tree | get-item "org.eclipse.Entity0/entity0_testField0" | get-property caption 
    | equals "entity0_testField0" | verify-true
get-window "Select Attribute" | get-tree | select "org.eclipse.Entity1"
get-window "Select Attribute" | get-tree | get-item "org.eclipse.Entity1" | get-property childCount | equals 3 
    | verify-true
get-window "Select Attribute" | get-tree | get-item "org.eclipse.Entity1/attribute0" | get-property caption 
    | equals attribute0 | verify-true
get-window "Select Attribute" | get-tree | get-item "org.eclipse.Entity1/attribute1" | get-property caption 
    | equals attribute1 | verify-true
get-window "Select Attribute" | get-tree | get-item "org.eclipse.Entity1/attribute2" | get-property caption 
    | equals attribute2 | verify-true
get-window "Select Attribute" | get-button Cancel | click
get-view "Tigerstripe Explorer" | get-tree | select "New Project/src/org.eclipse/<<ReferencesExample>>Entity0" 
    | double-click -nowait
get-editor Entity0 | get-section Attributes | get-section | get-button Add | click
get-button "Save \(.*\)" | click
get-view "Tigerstripe Explorer" | get-tree | select "New Project/src/org.eclipse/Entity1" | double-click -nowait
with [get-editor Entity1 | get-section Attributes | get-section] {
    get-table | select attribute1
    get-button Remove | click
}
get-window "Remove attribute" | get-button Yes | click
with [get-editor Entity1 | get-section Attributes] {
    get-section | get-table | select attribute2
    get-section -index 1 | get-editbox -after [get-label "Name:"] | set-text attribute28
}
get-button "Save \(.*\)" | click
get-view "Error Log" | click -nowait
get-view "Annotation Property View" | click -nowait
get-view "Tigerstripe Explorer" | get-tree | select "New Project/src/org.eclipse/<<ReferencesExample>>Entity0"
with [get-view "Annotation Property View"] {
    get-table | select ReferencesExample
    with [get-tree] {
        get-cell 2 0 | click -nowait
        select stringRefToAttribute | get-cell 2 0 | click -nowait
        get-cell 2 1 | click -nowait
        select stringRefToAttribute | get-item -index 0 | activate-cell-edit
        get-button "..." | click
    }
}
with [get-window "Select Attribute" | get-tree | get-item "org.eclipse.Entity0"] {
    get-property caption | equals "org.eclipse.Entity0" | verify-true
    get-property childCount | equals 2 | verify-true
}
get-window "Select Attribute" | get-tree | get-item "org.eclipse.Entity0/entity0_testField0" | get-property caption 
    | equals "entity0_testField0" | verify-true
get-window "Select Attribute" | get-tree | get-item "org.eclipse.Entity0/attribute1" | get-property caption 
    | equals attribute1 | verify-true
get-window "Select Attribute" | get-tree | get-item "org.eclipse.Entity1" | get-property caption 
    | equals "org.eclipse.Entity1" | verify-true
get-window "Select Attribute" | get-tree | get-item "org.eclipse.Entity1/attribute0" | get-property caption 
    | equals attribute0 | verify-true
get-window "Select Attribute" | get-tree | get-item "org.eclipse.Entity1/attribute28" | get-property caption 
    | equals attribute28 | verify-true
get-window "Select Attribute" | get-button Cancel | click
------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac--
------=_.q7.content-3d2e0690-ce48-3609-83e0-c704d49f1eaf
Content-Type: q7/binary
Entry-Name: .q7.content

UEsDBBQACAAIAAAAIQAAAAAAAAAAAAAAAAAIAAAALmNvbnRlbnR9Ul1PwjAUfTfxPyx9ZxVQ2BYGmUiM
ClFB+fBlKV2ZNVu7rR0b/nrvDMxgxLf2no/ec9LeoIwjY8syxaVwUdO8QAYTVAZchC7K9aZhoUH//KxH
ZWyWMmOBmXZNRZkgGZfObH8wypg7tUurcgFfoRyYu+hd68TBuCgKU8ahKbMQLyd3B8qfzrUIUPyN4rSL
D6jJKIyQIUjMXNS+sq1O239NAqKZp3XG17kGtN6nXe3DAxf5y8ViLr2Ujtjt5erhfrx4bPnWMzI0CZWL
PCGkJho0eJMLWh1IxPUOD2WcRKz8wetXFGh3CSzBaATNlZploJmyDcugRlbHCCRV+5RVooCrJCI7/DLD
J7aHzg0DWhcaTFXfn07tZjjh6YgN56vtp53Pnt4Kr4drxi9+N29dr7x0fJz0NN++6Xx4RIejoLG17ovl
WuS+PuZXl/8+AVC+AFBLBwifw7AITwEAAE8CAABQSwECFAAUAAgACAAAACEAn8OwCE8BAABPAgAACAAA
AAAAAAAAAAAAAAAAAAAALmNvbnRlbnRQSwUGAAAAAAEAAQA2AAAAhQEAAAAA
------=_.q7.content-3d2e0690-ce48-3609-83e0-c704d49f1eaf--
------=_.content.raw-c2dfba28-ebef-3afe-bd39-76376d333cc9
Content-Type: q7/binary
Entry-Name: .content.raw

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
AAAARQ4AAAAA
------=_.content.raw-c2dfba28-ebef-3afe-bd39-76376d333cc9--
