--- Q7 testcase ---
Q7-vendor: www.xored.com/q7
Format-Version: 1.0
Element-Name: ReferenceAddRemoveAnnotationDependency
Tags: Annotation/reference
External-Reference: http://docs.xored.com/display/TS/ReferenceAddRemoveAnnotationDependency
Element-Version: 3.0
Contexts: _RR91gMiqEeCVYvz9uSPZwA,_2OSx4fOUEd-s8v7FVtLgHw,_9D6jAatgEd-v8JwXbnu_tQ
Save-Time: 12/16/11 1:22 PM
Id: _nibLANIaEeCX-YsirEVo1w

------=_.description-216f885c-d591-38ce-8ea2-e4f8cb4d6ffa
Entry-Name: .description
Content-Type: text/plain

Add and remove annotations for relationship in referenced module 

Precondition:
AnnotationsContextPreferences
DependantProjectsWithPackagesContextGroup

Steps:
    Add annotation for the dependency in referenced module in project 1
    Check dependency name in TS Explorer in project 1 (it should be displayed with annotation)
    Check dependency name in TS Explorer in project 2
    Check empty annotation view in project 2
    Remove annotation from project 1
    Check dependency name in TS Explorer in project 1
    Check empty annotation view in project 1

------=_.description-216f885c-d591-38ce-8ea2-e4f8cb4d6ffa--
------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac
Entry-Name: .content
Content-Type: text/ecl

get-view "Annotation Property View" | click -nowait
get-view "Tigerstripe Explorer" | get-tree | select "One/Model References/Two/src/com.mycompany/Dependency"
get-view "Annotation Property View" | get-table | get-menu "Add Annotation" | click
with [get-window "Create Annotation Wizard"] {
    get-tree | select "Primitive/Integer Annotation"
    get-button Finish | click
}
get-view "Tigerstripe Explorer" | get-tree 
    | get-item "One/Model References/Two/src/com.mycompany/<<IntegerAnnotation>>Dependency" | get-property caption 
    | equals "<<IntegerAnnotation>>Dependency" | verify-true
with [get-view "Tigerstripe Explorer" | get-tree] {
	click // Set the focus
	select "One/Model References/Two/src/com.mycompany/<<IntegerAnnotation>>Dependency"
}
get-view "Annotation Property View" | get-table | get-property itemCount | equals 1 | verify-true
get-view "Annotation Property View" | get-table | get-item IntegerAnnotation | get-property caption 
    | equals IntegerAnnotation | verify-true
get-view "Tigerstripe Explorer" | get-tree | select "Two/src/com.mycompany/Dependency"
get-view "Annotation Property View" | get-table | get-property itemCount | equals 0 | verify-true
get-view "Tigerstripe Explorer" | get-tree | get-item "Two/src/com.mycompany/Dependency" | get-property caption 
    | equals Dependency | verify-true
get-view "Tigerstripe Explorer" | get-tree 
    | select "One/Model References/Two/src/com.mycompany/<<IntegerAnnotation>>Dependency"
return-from-os-dialog "MESSAGE_BOX" 64
get-view "Annotation Property View" | get-table | get-menu "Remove All" | click
get-view "Tigerstripe Explorer" | get-tree | get-item "One/Model References/Two/src/com.mycompany/Dependency" 
    | get-property caption | equals Dependency | verify-true
get-view "Annotation Property View" | get-table | get-property itemCount | equals 0 | verify-true
------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac--
------=_.q7.content-3d2e0690-ce48-3609-83e0-c704d49f1eaf
Content-Type: q7/binary
Entry-Name: .q7.content

UEsDBBQACAAIAAAAIQAAAAAAAAAAAAAAAAAIAAAALmNvbnRlbnSNklFPwjAUhd/5FUvfWQWNwMJGFsGI
AcFNCfhCynqZNVs72rINf72dgaGJGt9u7jk997s37Q/KNLFykIoJ7qKWfYEs4JGgjMcu2utts4sGXqMf
idQuhQRq7zq2ioATyYQTHgurTJlTh7SrEBPLlWP6LnrVOnMwLorCFmlsCxnj5XR8svyYXD8yKv5U8a6D
T6oNkWkhi5MUXBTAFqRhBp/SAFKRg8+50EQbmCFkwKkRD+i85GXFx6iL1pxtJv7DmIzgZtlcKSZHC9Eq
kKVJrFx0jsHyNMNoh8wMhSgxhyo1SE6SmqDGpiJSx62qDShTWUIO+CnE/6T1GpZljs61maG8dRD0WvGU
7QzoYpW/9/bh/KXw+7h2fLe3Z2F5tZ09j2hTdfPO7UJP4rviV3tveP3mEx0be969L5Ybvl/rx6/2qv7r
A3iND1BLBwga0kRuRgEAAEkCAABQSwECFAAUAAgACAAAACEAGtJEbkYBAABJAgAACAAAAAAAAAAAAAAA
AAAAAAAALmNvbnRlbnRQSwUGAAAAAAEAAQA2AAAAfAEAAAAA
------=_.q7.content-3d2e0690-ce48-3609-83e0-c704d49f1eaf--
------=_.content.raw-c2dfba28-ebef-3afe-bd39-76376d333cc9
Content-Type: q7/binary
Entry-Name: .content.raw

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
AADgCAAAAAA=
------=_.content.raw-c2dfba28-ebef-3afe-bd39-76376d333cc9--
