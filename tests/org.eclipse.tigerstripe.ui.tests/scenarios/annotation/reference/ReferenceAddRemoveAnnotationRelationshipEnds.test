--- Q7 testcase ---
Q7-vendor: www.xored.com/q7
Format-Version: 1.0
Element-Name: ReferenceAddRemoveAnnotationRelationshipEnds
Tags: Annotation/reference
External-Reference: http://docs.xored.com/display/TS/ReferenceAddRemoveAnnotationRelationshipEnds
Element-Version: 3.0
Contexts: _RR91gMiqEeCVYvz9uSPZwA,_2OSx4fOUEd-s8v7FVtLgHw,_9D6jAatgEd-v8JwXbnu_tQ
Save-Time: 12/16/11 2:58 PM
Id: _p6uxENIYEeCX-YsirEVo1w

------=_.description-216f885c-d591-38ce-8ea2-e4f8cb4d6ffa
Entry-Name: .description
Content-Type: text/plain

Add and remove annotations for relationship in referenced module 

Precondition:
AnnotationsContextPreferences
DependantProjectsWithPackagesContextGroup

Steps:
    Add annotation for one of Association ends in referenced module in project 1
    Check Association ends in TS Explorer in project 1 (one should be displayed with annotation, other without)
    Check Association ends in TS Explorer in project 2 (should be displayed without annotation)
    Check empty annotation view in project 2
    Remove annotation from project 1
    Check Association ends in TS Explorer in project 1
    Check empty annotation view in project 1

------=_.description-216f885c-d591-38ce-8ea2-e4f8cb4d6ffa--
------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac
Entry-Name: .content
Content-Type: text/ecl

get-view "Tigerstripe Explorer" | get-tree 
    | select "One/Model References/Two/src/com.mycompany/Association/ent2:Ent2"
get-view "Annotation Property View" | click -nowait
get-view "Tigerstripe Explorer" | get-tree 
    | select "One/Model References/Two/src/com.mycompany/Association/ent2:Ent2"
get-view "Annotation Property View" | get-table | get-menu "Add Annotation" | click
with [get-window "Create Annotation Wizard"] {
    get-tree | select "Primitive/Check Annotation"
    get-button Finish | click
}
with [get-view "Tigerstripe Explorer" | get-tree] {
	click // Set the focus
	select "One/Model References/Two/src/com.mycompany/Association/<<CheckAnnotation>>ent2:Ent2"
}
get-view "Annotation Property View" | get-table | get-property itemCount | equals 1 | verify-true
get-view "Annotation Property View" | get-table | get-item CheckAnnotation | get-property caption 
    | equals CheckAnnotation | verify-true
get-view "Tigerstripe Explorer" | get-tree 
    | get-item "One/Model References/Two/src/com.mycompany/Association/<<CheckAnnotation>>ent2:Ent2" 
    | get-property caption | equals "<<CheckAnnotation>>ent2:Ent2" | verify-true
get-view "Tigerstripe Explorer" | get-tree 
    | get-item "One/Model References/Two/src/com.mycompany/Association/ent3:Ent3" | get-property caption 
    | equals "ent3:Ent3" | verify-true
get-view "Tigerstripe Explorer" | get-tree 
    | select "One/Model References/Two/src/com.mycompany/Association/ent3:Ent3"
get-view "Annotation Property View" | get-table | get-property itemCount | equals 0 | verify-true
get-view "Tigerstripe Explorer" | get-tree | select "Two/src/com.mycompany/Association/ent2:Ent2"
get-view "Tigerstripe Explorer" | get-tree | get-item "Two/src/com.mycompany/Association/ent2:Ent2" 
    | get-property caption | equals "ent2:Ent2" | verify-true
get-view "Annotation Property View" | get-table | get-property itemCount | equals 0 | verify-true
get-view "Tigerstripe Explorer" | get-tree 
    | select "One/Model References/Two/src/com.mycompany/Association/<<CheckAnnotation>>ent2:Ent2"
return-from-os-dialog "MESSAGE_BOX" 64
get-view "Annotation Property View" | get-table | get-menu "Remove All" | click
get-view "Tigerstripe Explorer" | get-tree 
    | get-item "One/Model References/Two/src/com.mycompany/Association/ent2:Ent2" | get-property caption 
    | equals "ent2:Ent2" | verify-true
get-view "Annotation Property View" | get-table | get-property itemCount | equals 0 | verify-true
------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac--
------=_.q7.content-3d2e0690-ce48-3609-83e0-c704d49f1eaf
Content-Type: q7/binary
Entry-Name: .q7.content

UEsDBBQACAAIAAAAIQAAAAAAAAAAAAAAAAAIAAAALmNvbnRlbnSVkl1PwjAUhu/5FUvvWQUNHwsbWXRG
jAhuSsAbMtfDqNna0XYf+OvtCAxN1MSrnvR9+57ntB2NqzQxChCScmajjnmBDGARJ5TFNsrVpj1AY6c1
inhqVlwAMXd9U0bAQkG5FRwLo0qp1YR06xAdy6Sl9220VSqzMC7L0uRpbHIR4+V0crL8mNwc0io+qHjX
xyfVhEhvIYOFKdjIhw0IzQwuIT6kvACXMa5CpWF8SA6r3NLMY0Si86iXNSUlNlpnvbzyHicrD66X7ZWk
wlvwTokMFcbSRucwLE6dtLbPdGuIEn1dlQLBwqThaOAJj+RxtnoOQmWWhHv8HOB/MTstw9APwJTuJJ21
7w878ZTuNO5iVXwM82D+Wroj3Di+27uzoLrazF480paDon+7UA/xXfmrfXjTe3dDFWt7Mbgvl28sX6un
r/a6/uszOK1PUEsHCJm+qjpLAQAAVQIAAFBLAQIUABQACAAIAAAAIQCZvqo6SwEAAFUCAAAIAAAAAAAA
AAAAAAAAAAAAAAAuY29udGVudFBLBQYAAAAAAQABADYAAACBAQAAAAA=
------=_.q7.content-3d2e0690-ce48-3609-83e0-c704d49f1eaf--
------=_.content.raw-c2dfba28-ebef-3afe-bd39-76376d333cc9
Content-Type: q7/binary
Entry-Name: .content.raw

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
------=_.content.raw-c2dfba28-ebef-3afe-bd39-76376d333cc9--
