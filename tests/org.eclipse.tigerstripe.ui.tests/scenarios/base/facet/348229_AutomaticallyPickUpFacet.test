--- Q7 testcase ---
Q7-vendor: www.xored.com/q7
Format-Version: 1.0
Element-Name: 348229_AutomaticallyPickUpFacet
Tags: TS_Project/Facet, I37
External-Reference: http://docs.xored.com/display/TS/348229_AutomaticallyPickUpFacet
Element-Version: 3.0
Contexts: _5OPsMK6FEd-uWaeTFaimww
Save-Time: 12/8/11 2:15 PM
Id: _rkyHkKklEeCQuoNCiruvtQ

------=_.description-216f885c-d591-38ce-8ea2-e4f8cb4d6ffa
Entry-Name: .description
Content-Type: text/plain

Modify referenced Facet and check that changes are automatically picked up 

Precondition
GeneratorContextGroup

Steps
    Deploy generator and enable it
    Create a facet in model project with the following entry under 'Excluded patterns': simple.*
    Open tigerstripe.xml file > switch to Facets tab > Add facet to project
    Run generation > notice the file for artifact of simple package is not created.
    Remove target folder
    Open the Facet, remove the entry added under Excluded patterns.
    Run generation again > notice the appropriate file is created.

------=_.description-216f885c-d591-38ce-8ea2-e4f8cb4d6ffa--
------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac
Entry-Name: .content
Content-Type: text/ecl

get-view "Tigerstripe Explorer" | get-tree | select "New Generator Project/ts-plugin.xml" | double-click -nowait
get-editor "New Generator Project/ts-plugin.xml" | get-section Testing | get-link "Package and deploy this generator" 
    | click -nowait
get-window "Deploy new generator" | get-button OK | click
get-window "New Generator Project Generator" | get-button OK | click
get-view "Tigerstripe Explorer" | get-tree | select "model-refactoring/tigerstripe.xml" | double-click -nowait
with [get-editor "model-refactoring/tigerstripe.xml"] {
    get-tab-folder | get-tab-item "Generator Settings" | click
    with [get-section "New Generator Project.*"] {
        click -nowait
        get-button "Enable Generator" | click
    }
}
get-button "Save (Ctrl+S)" | click
get-view "Tigerstripe Explorer" | get-tree | select "model-refactoring" | get-menu "New/Other..." | click
with [get-window New] {
    get-tree | select "Tigerstripe/Facet"
    get-button "Next >" | click
}
get-window "New Tigerstripe Workbench Contract Segment" | get-button Finish | click
with [get-editor "model-refactoring/default.wfc"] {
    get-tab-folder | get-tab-item Scope | click
    with [get-section "Scope Details"] {
        get-button Add -after [get-label "Excluded patterns:"] | click
        with [get-table -after [get-label "Excluded patterns:"]] {
            select "com.mycompany.\\*" | get-item -index 0 | activate-cell-edit
            get-editbox | set-text "simple.*"
        }
    }
}
get-button "Save (Ctrl+S)" | click
get-editor "model-refactoring/default.wfc" | get-section "Scope Details" | get-table 
    -after [get-label "Excluded patterns:"] | get-item -index 0 | apply-cell-edit
with [get-editor "model-refactoring/tigerstripe.xml"] {
    click -nowait
    get-tab-folder | get-tab-item Facets | click
    get-section -index 1 | get-section "Facet References" | get-button Add | click
}
with [get-window "Select Facets"] {
    get-tree | select "default.wfc"
    get-button OK | click
}
get-button "Save All (Ctrl+Shift+S)" | click
get-view "Tigerstripe Explorer" | get-tree | select "model-refactoring" | get-menu "Generate..." | click
with [get-window "Generate Tigerstripe Project"] {
    get-button Finish | click
    get-window "Generation Result" | get-button OK | click
}
get-view "Tigerstripe Explorer" | get-tree | get-item "model-refactoring/target/tigerstripe.gen" 
    | get-property childCount | equals 2 | verify-true
get-view "Tigerstripe Explorer" | get-tree | select "model-refactoring/target" | get-menu Delete | click
get-window "Confirm Delete" | get-button OK | click
with [get-editor "model-refactoring/default.wfc"] {
    click -nowait
    with [get-section "Scope Details"] {
        with [get-table -after [get-label "Excluded patterns:"]] {
            select "simple.\\*" | get-item -index 0 | activate-cell-edit
            get-item -index 0 | apply-cell-edit
        }
        get-button Remove -index 1 | click
    }
}
get-window "Remove Scope Pattern" | get-button OK | click
get-button "Save (Ctrl+S)" | click
get-view "Tigerstripe Explorer" | get-tree | select "model-refactoring" | get-menu "Generate..." | click
with [get-window "Generate Tigerstripe Project"] {
    get-button Finish | click
    get-window "Generation Result" | get-button OK | click
}
get-view "Tigerstripe Explorer" | get-tree | get-item "model-refactoring/target/tigerstripe.gen" 
    | get-property childCount | equals 22 | verify-true
get-view "Tigerstripe Explorer" | get-tree | get-item "model-refactoring/target/tigerstripe.gen/AssociatedEnt.txt" 
    | get-property caption | equals "AssociatedEnt.txt" | verify-true
------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac--
------=_.q7.content-3d2e0690-ce48-3609-83e0-c704d49f1eaf
Content-Type: q7/binary
Entry-Name: .q7.content

UEsDBBQACAAIAAAAIQAAAAAAAAAAAAAAAAAIAAAALmNvbnRlbnSFkV9PwjAUxd9N/A5Nn2VVUIcLgxgC
kRAUBKNvS9NdZl3/jLZj27e3EJgvRt+ae+799dxzB6NaCrQHY7lWMb4JrjECxXTKVRbj0m07fTwaXl4M
mJZBrQ2kwS4MLANFDdfR+vRAteRRS+keKJ6rbOTrMf50rogIqaoq0DILtMnIx2J2bvmV3A55lRxVsgvJ
WQ2A+RJGikqIce+23+0+JI+l05I6zqgQzZKz/K2YUgYO/6zXOxjjaYwTkzdP+TwXExivSv085qbcuxVG
jmY2xpt1sjT6C5gjR8QVmvVCLzaF/w6Y8BnVDoyi4hW2YHxg0BpONbOnfQ7eU24LQRuyWZP/fPqYEfJB
K+fpdpjcvSztYn4/naSd8p3CZkq5rKoBaTv8Wcjfd/Et31BLBwgER5ImKAEAAOIBAABQSwECFAAUAAgA
CAAAACEABEeSJigBAADiAQAACAAAAAAAAAAAAAAAAAAAAAAALmNvbnRlbnRQSwUGAAAAAAEAAQA2AAAA
XgEAAAAA
------=_.q7.content-3d2e0690-ce48-3609-83e0-c704d49f1eaf--
------=_.content.raw-c2dfba28-ebef-3afe-bd39-76376d333cc9
Content-Type: q7/binary
Entry-Name: .content.raw

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
AG8PAAAAAA==
------=_.content.raw-c2dfba28-ebef-3afe-bd39-76376d333cc9--
