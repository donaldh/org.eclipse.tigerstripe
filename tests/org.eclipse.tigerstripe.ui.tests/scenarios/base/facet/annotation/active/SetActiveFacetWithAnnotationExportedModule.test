--- Q7 testcase ---
Q7-vendor: www.xored.com/q7
Format-Version: 1.0
Element-Name: SetActiveFacetWithAnnotationExportedModule
Tags: Facet/Active, Annotation
External-Reference: http://bugs.xored.com/browse/XMP-899
Element-Version: 3.0
Contexts: _VxOmcDq2EeGvPsO-LSiu4Q,_RR91gMiqEeCVYvz9uSPZwA,_9D6jAatgEd-v8JwXbnu_tQ
Save-Time: 1/22/12 1:16 PM
Id: _5dbkMDq2EeGvPsO-LSiu4Q

------=_.description-216f885c-d591-38ce-8ea2-e4f8cb4d6ffa
Entry-Name: .description
Content-Type: text/plain

Set Active Facets with annotation in exported module 

Precondition
GeneratorAndReferencedProjectsAnnotationScopeFacetWorkspaceContext

Steps
Set ProjectWithReference/default2.wfc facet as active
Check ProjectWithReference and New Project projects names and greyed artifacts
------=_.description-216f885c-d591-38ce-8ea2-e4f8cb4d6ffa--
------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac
Entry-Name: .content
Content-Type: text/ecl

get-view "Tigerstripe Explorer" | get-tree 
    | select "ProjectWithReference/New Project_1.0.jar/org.eclipse/Datatype0" 
    | get-menu "Annotations/Create/Primitive/References Example" | click
get-view "Tigerstripe Explorer" | get-tree | select "ProjectWithReference/default2.wfc" 
    | get-menu "Facets/Mark as Active" | click
with [get-view "Tigerstripe Explorer" | get-tree] {
    get-item "ProjectWithReference \\{default2\\}" | get-property caption | equals "ProjectWithReference \\{default2\\}" 
        | verify-true
    get-item "ProjectWithReference \\{default2\\}" | get-property styleRanges -index 0 
        | equals "0, 31, fontStyle=normal, foreground=Color {232, 123, 20}" | verify-true
}
with [get-view "Tigerstripe Explorer" | get-tree] {
    get-item "ProjectWithReference \\{default2\\}/New Project_1.0.jar/org.eclipse/AssocClass0" | get-property styleRanges 
        -index 0 | equals "0, 11, fontStyle=normal, foreground=Color {0, 0, 0}" | verify-true
    get-item "ProjectWithReference \\{default2\\}/New Project_1.0.jar/org.eclipse/Association0" | get-property styleRanges 
        -index 0 | equals "0, 12, fontStyle=normal, foreground=Color {0, 0, 0}" | verify-true
    get-item "ProjectWithReference \\{default2\\}/New Project_1.0.jar/org.eclipse/<<ReferencesExample>>Datatype0" 
        | get-property styleRanges -index 1 | equals "21, 9, fontStyle=normal, foreground=Color {128, 128, 128}" | verify-true
    get-item "ProjectWithReference \\{default2\\}/New Project_1.0.jar/org.eclipse/Dependency0" | get-property styleRanges 
        -index 0 | equals "0, 11, fontStyle=normal, foreground=Color {0, 0, 0}" | verify-true
    get-item "ProjectWithReference \\{default2\\}/New Project_1.0.jar/org.eclipse/Entity0" | get-property styleRanges 
        -index 0 | equals "0, 7, fontStyle=normal, foreground=Color {0, 0, 0}" | verify-true
    get-item "ProjectWithReference \\{default2\\}/New Project_1.0.jar/org.eclipse/Entity1" | get-property styleRanges 
        -index 0 | equals "0, 7, fontStyle=normal, foreground=Color {0, 0, 0}" | verify-true
    get-item "ProjectWithReference \\{default2\\}/New Project_1.0.jar/org.eclipse/Enumeration0" | get-property styleRanges 
        -index 0 | equals "0, 12, fontStyle=normal, foreground=Color {0, 0, 0}" | verify-true
    get-item "ProjectWithReference \\{default2\\}/New Project_1.0.jar/org.eclipse/Event0" | get-property styleRanges 
        -index 0 | equals "0, 6, fontStyle=normal, foreground=Color {0, 0, 0}" | verify-true
    get-item "ProjectWithReference \\{default2\\}/New Project_1.0.jar/org.eclipse/Exception0" | get-property styleRanges 
        -index 0 | equals "0, 10, fontStyle=normal, foreground=Color {0, 0, 0}" | verify-true
    get-item "ProjectWithReference \\{default2\\}/New Project_1.0.jar/org.eclipse/Query0" | get-property styleRanges 
        -index 0 | equals "0, 6, fontStyle=normal, foreground=Color {0, 0, 0}" | verify-true
    get-item "ProjectWithReference \\{default2\\}/New Project_1.0.jar/org.eclipse/Session0" | get-property styleRanges 
        -index 0 | equals "0, 8, fontStyle=normal, foreground=Color {0, 0, 0}" | verify-true
    get-item "ProjectWithReference \\{default2\\}/New Project_1.0.jar/org.eclipse/Update0" | get-property styleRanges 
        -index 0 | equals "0, 7, fontStyle=normal, foreground=Color {0, 0, 0}" | verify-true
}
------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac--
------=_.q7.content-3d2e0690-ce48-3609-83e0-c704d49f1eaf
Content-Type: q7/binary
Entry-Name: .q7.content

UEsDBBQACAAIAAAAIQAAAAAAAAAAAAAAAAAIAAAALmNvbnRlbnR9kVtPwkAQhd/5FZt9tq3gjTa0pJFq
NDYgTRB9Ib0MZbXdpbvbi/56twg1xMvbZM6Zb8/MjsZNnqEKuCCM2rivn2IENGYJoamNS7nWhnjs9EYx
y/WGcUj04koXMdCQE2YF+wI1ObE6yKCFKCwVlurbeCPl1jKMuq51lqc646mx9O8Oll/J3ZBSjZ1qFFfG
QdUhVi2MaJiDjQOQbixJBTdhDPKJyI1LKZOhVGG8Zsu4hMRnSZmpiS7jWZuRJDZeXSTRmz8pBh7cVjMx
1R4CUp4/YiTDVNh4xzS++CfoG6z09616HOJMHayRwGmYzWENXF0PuvhRmYr9du0mEWe1ALX9TBuaJnZ6
CKnLUqkAwlktmmke/0gyMjrHsX0+N/upTwoPrhfP1YdZBrOX2v3Tbk4uX91Qpl6iVcP7ehnRciWP6G39
3y87vU9QSwcI8I5vGUcBAAAuAgAAUEsBAhQAFAAIAAgAAAAhAPCObxlHAQAALgIAAAgAAAAAAAAAAAAA
AAAAAAAAAC5jb250ZW50UEsFBgAAAAABAAEANgAAAH0BAAAAAA==
------=_.q7.content-3d2e0690-ce48-3609-83e0-c704d49f1eaf--
------=_.content.raw-c2dfba28-ebef-3afe-bd39-76376d333cc9
Content-Type: q7/binary
Entry-Name: .content.raw

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
AAEANgAAANkUAAAAAA==
------=_.content.raw-c2dfba28-ebef-3afe-bd39-76376d333cc9--
