--- Q7 testcase ---
Q7-vendor: www.xored.com/q7
Format-Version: 1.0
Element-Name: UpdateAnnotationInstalledModuleReapplyFacetAnnotation
Tags: Facet/Active, Annotation
External-Reference: 
Element-Version: 3.0
Contexts: _o_vfUDHaEeGSksgVyHPBRg,_RR91gMiqEeCVYvz9uSPZwA,_9D6jAatgEd-v8JwXbnu_tQ
Save-Time: 1/16/12 12:27 PM
Id: _qhSkUEABEeG1Htud4Cd1VA

------=_.description-216f885c-d591-38ce-8ea2-e4f8cb4d6ffa
Entry-Name: .description
Content-Type: text/plain

Update annotations in Installed Module and reapply facet

Precondition
GeneratorProjectAndTSModuleWithAnnotationFacetContextWorkspace

Steps
Apply facet
Remove Reference example from E1 and add Text annotation to DT1
Save changes
Mark facet as active again
Check E1 and all depended artifacts are displayed as active
Check DT1 is displayed as inactive
------=_.description-216f885c-d591-38ce-8ea2-e4f8cb4d6ffa--
------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac
Entry-Name: .content
Content-Type: text/ecl

with [get-view "Tigerstripe Explorer" | get-tree] {
    select "Project1/default.wfc" | get-menu "Facets/Mark as Active" | click
    select "Project1 \\{default\\}/Model References/org.eclipse.tigerstripe.test.module_1.0.0.jar - .*plugins/org.eclipse.tigerstripe.test/<<ReferencesExample>>E1"
}
set-dialog-result MessageBox 64
with [get-view "Tigerstripe Explorer" | get-tree] {
    get-menu "Annotations/Remove" | click
    select "Project1 \\{default\\}/Model References/org.eclipse.tigerstripe.test.module_1.0.0.jar - .*plugins/org.eclipse.tigerstripe.test/DT1" 
        | get-menu "Annotations/Create/Primitive/References Example" | click
    select "Project1 \\{default\\}/default.wfc" | get-menu "Facets/Mark as Active" | click
}
with [get-view "Tigerstripe Explorer" | get-tree] {
    get-item "Project1 \\{default\\}/Model References/org.eclipse.tigerstripe.test.module_1.0.0.jar - .*plugins/org.eclipse.tigerstripe.test/E1" 
        | get-property styleRanges -index 0 | equals "0, 2, fontStyle=normal, foreground=Color {0, 0, 0}" | verify-true
    get-item "Project1 \\{default\\}/Model References/org.eclipse.tigerstripe.test.module_1.0.0.jar - .*plugins/org.eclipse.tigerstripe.test/Association1" 
        | get-property styleRanges -index 0 | equals "0, 12, fontStyle=normal, foreground=Color {128, 128, 128}" 
        | verify-true
    get-item "Project1 \\{default\\}/Model References/org.eclipse.tigerstripe.test.module_1.0.0.jar - .*plugins/org.eclipse.tigerstripe.test/AssociationClass1" 
        | get-property styleRanges -index 0 | equals "0, 17, fontStyle=normal, foreground=Color {0, 0, 0}" | verify-true
    get-item "Project1 \\{default\\}/Model References/org.eclipse.tigerstripe.test.module_1.0.0.jar - .*plugins/org.eclipse.tigerstripe.test/Dependency" 
        | get-property styleRanges -index 0 | equals "0, 10, fontStyle=normal, foreground=Color {0, 0, 0}" | verify-true
    get-item "Project1 \\{default\\}/Model References/org.eclipse.tigerstripe.test.module_1.0.0.jar - .*plugins/org.eclipse.tigerstripe.test/<<ReferencesExample>>DT1" 
        | get-property styleRanges -index 0 | equals "0, 21, fontStyle=normal, foreground=Color {128, 128, 128}" 
        | verify-true
    get-item "Project1 \\{default\\}/Model References/org.eclipse.tigerstripe.test.module_1.0.0.jar - .*plugins/org.eclipse.tigerstripe.test/<<ReferencesExample>>DT1" 
        | get-property styleRanges -index 1 | equals "21, 3, fontStyle=normal, foreground=Color {128, 128, 128}" 
        | verify-true
}
------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac--
------=_.q7.content-3d2e0690-ce48-3609-83e0-c704d49f1eaf
Content-Type: q7/binary
Entry-Name: .q7.content

UEsDBBQACAAIAAAAIQAAAAAAAAAAAAAAAAAIAAAALmNvbnRlbnR9kV1PwjAUhu9N/A9Nr2V1ahQWBhkw
BRMS3AJBb5a6Hspka/fRfeCvtxABNepde87TJ+857fabJEYV5EUkhY1N4xIjEKFkkeA2LtWq1cb93vlZ
N5SJ0cgcmJHdGUUIguaRtPzPA2qSyDparnYW7RWFpes2XiuVWoTUdW3IhBsy52Q5nRyQX83HR7pL9l2S
3ZFD14BQlzASNAEbz1NGFThCSEWVDjARhaJxDGwqWRmDBzRN4+09DUGdIHwa+noXN2I2DrK1v5m7zsCF
B3OsSnYzZObCwUhRXth4byBOqKIKLtBXldqmOgeEMdarQkgvSyhoVNELZFCt5qMx1UZ/U/DFdjwbeLxL
jsQP3vM6Jp9GmQvDxXP13in92Uvt/M13RrdvDlXcZa2q/VgvX0UZqKdv/O7y399p5ANQSwcII9/9JjgB
AAAGAgAAUEsBAhQAFAAIAAgAAAAhACPf/SY4AQAABgIAAAgAAAAAAAAAAAAAAAAAAAAAAC5jb250ZW50
UEsFBgAAAAABAAEANgAAAG4BAAAAAA==
------=_.q7.content-3d2e0690-ce48-3609-83e0-c704d49f1eaf--
------=_.content.raw-c2dfba28-ebef-3afe-bd39-76376d333cc9
Content-Type: q7/binary
Entry-Name: .content.raw

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
BQYAAAAAAQABADYAAADIDgAAAAA=
------=_.content.raw-c2dfba28-ebef-3afe-bd39-76376d333cc9--
