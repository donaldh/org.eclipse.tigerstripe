--- Q7 testcase ---
Q7-vendor: www.xored.com/q7
Format-Version: 1.0
Element-Name: DefineFacetScopeSortDetailsExclusion
Tags: Facet/Define
External-Reference: 
Element-Type: testcase
Element-Version: 3.0
Contexts: _BwQRgDwhEeGvPsO-LSiu4Q,_9D6jAatgEd-v8JwXbnu_tQ,_FGfSUKthEd-v8JwXbnu_tQ
Save-Time: 2/15/12 1:18 PM
Id: _C04zMEV1EeG6xYWzBUR3Fg
Testcase-Type: ecl

------=_.description-216f885c-d591-38ce-8ea2-e4f8cb4d6ffa
Entry-Name: .description
Content-Type: text/plain

Define Facet Scope. Sort added patterns in Scope Details excluded table

Open facet
Add pattern and rename patterns to "org.eclipse.Q1" and "org.eclipse.E1"
Click Sort button in annotation based exclusion table
Verify exclusion 
Save changes
Reopen facet
Verify exclusion 
------=_.description-216f885c-d591-38ce-8ea2-e4f8cb4d6ffa--
------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac
Entry-Name: .content
Content-Type: text/ecl

get-view "Tigerstripe Explorer" | get-tree | select "New Project/default.wfc" | double-click -nowait
with [get-editor "New Project/default.wfc"] {
    get-tab-folder | get-tab-item Scope | click
    with [get-section "Scope Details"] {
        get-button Add -after [get-label "Excluded patterns:"] | click
        with [get-table -after [get-label "Excluded patterns:"]] {
            select "org.eclipse0.\\*" | activate-cell-edit
            get-editbox | set-text "org.eclipse.E1"
            apply-cell-edit
            select "org.eclipse.\\*" | activate-cell-edit
            get-editbox | set-text "org.eclipse.Q1"
        }
    }
}
get-button "Save \(.*\)" | click
get-editor "New Project/default.wfc" | get-section "Scope Details" | get-table -after [get-label "Excluded patterns:"] 
    | apply-cell-edit
with [get-editor "New Project/default.wfc" | get-section "Scope Details" | get-table 
    -after [get-label "Excluded patterns:"]] {
    get-item "org.eclipse.Q1" | get-property caption | equals "org.eclipse.Q1" | verify-true
    get-item "org.eclipse.Q1" | get-property index | equals 0 | verify-true
    get-item "org.eclipse.E1" | get-property caption | equals "org.eclipse.E1" | verify-true
    get-item "org.eclipse.E1" | get-property index | equals 1 | verify-true
}
get-editor "New Project/default.wfc" | get-section "Scope Details" | get-button Sort 
    -after [get-label "Excluded patterns:"] | click
with [get-editor "New Project/default.wfc" | get-section "Scope Details" | get-table 
    -after [get-label "Excluded patterns:"]] {
    get-item "org.eclipse.E1" | get-property caption | equals "org.eclipse.E1" | verify-true
    get-item "org.eclipse.E1" | get-property index | equals 0 | verify-true
    get-item "org.eclipse.Q1" | get-property caption | equals "org.eclipse.Q1" | verify-true
    get-item "org.eclipse.Q1" | get-property index | equals 1 | verify-true
}
get-button "Save \(.*\)" | click
get-editor "New Project/default.wfc" | close
with [get-view "Tigerstripe Explorer"] {
    click
    get-tree | select "New Project/default.wfc" | double-click -nowait
}
get-editor "New Project/default.wfc" | get-tab-folder | get-tab-item Scope | click
with [get-editor "New Project/default.wfc" | get-section "Scope Details" | get-table 
    -after [get-label "Excluded patterns:"]] {
    get-item "org.eclipse.E1" | get-property index | equals 0 | verify-true
    get-item "org.eclipse.Q1" | get-property index | equals 1 | verify-true
}
------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac--
